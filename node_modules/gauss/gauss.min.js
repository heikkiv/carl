(function(){var e=function(t){"use strict";var n=Array.isArray(t)?t:Array.prototype.slice.call(arguments);return Array.prototype.slice.call(arguments).length===0&&(n=[]),Object.defineProperties(n,{indexOf:{value:function(e,t){var n=-1;for(var r=0;r<this.length;r++)if(this[r]===e){n=r;break}return t?t(n):n},writable:!0,enumerable:!1},indexBy:{value:function(e,t){var n=-1;for(var r=0;r<this.length;r++)if(e(this[r])){n=r;break}return t?t(n):n},writable:!0,enumerable:!1},indicesOf:{value:function(t,n){var r=this.indexOf(t),i=this.lastIndexOf(t),s=new e;if(r===i)s.push(r);else for(var o=r;o<=i;o++)this[o]===t&&s.push(o);return n?n(s):s},writable:!0,enumerable:!1},indicesBy:{value:function(t,n){var r=0,i=this.length-1,s=new e;if(r===i)s.push(r);else for(var o=r;o<=i;o++)t(this[o])&&s.push(o);return n?n(s):s},writable:!0,enumerable:!1},lastIndexBy:{value:function(e,t){var n=-1;for(var r=this.length-1;r>=0;r--)if(e(this[r])){n=r;break}return t?t(n):n},writable:!0,enumerable:!1},find:{value:function(t,n){var r=new e;if(typeof t=="object")for(var i=0;i<this.length;i++){var s=[];for(var o in t)s.push(t[o]===this[i][o]);s.every(function(e){return e===!0})&&r.push(this[i])}else for(var i=0;i<this.length;i++)t(this[i])&&r.push(this[i]);return n?n(r):r},writable:!0,enumerable:!1},findOne:{value:function(e,t){var n;if(typeof e=="object")for(var r=0;r<this.length;r++){var i=[];for(var s in e)i.push(e[s]===this[r][s]);if(i.every(function(e){return e===!0})){n=this[r];break}}else for(var r=0;r<this.length;r++)if(e(this[r])){n=this[r];break}return t?t(n):n},writable:!0,enumerable:!1},mode:{value:function(t){var n={},r=1,i=new e;for(var s=0;s<this.length;s++){var o=this[s];n[o]==null?n[o]=1:n[o]++,n[o]>r?(i=new e(o),r=n[o]):n[o]==r&&(i.push(o),r=n[o])}return i.length===1&&(i=i[0]),t?t(i):i},writable:!0,enumerable:!1},frequency:{value:function(e,t){var n=0;if(this.indexOf(e)!==-1){var r=this.copy().sort();n=r.lastIndexOf(e)-r.indexOf(e)+1}return t?t(n):n},writable:!0,enumerable:!1},distribution:{value:function(e,t){var n=this.copy().sort(),r={};for(var i=0;i<n.length;)r[n[i]]=e==="relative"?n.frequency(n[i])/n.length:n.frequency(n[i]),i=n.lastIndexOf(n[i])+1;return t?t(r):r},writable:!0,enumerable:!1},append:{value:function(e,t){return n=this.push.apply(this,e),t?t(n):n},writable:!0,enumerable:!1},equal:{value:function(e,t){var n=!(this<e||e<this);return t?t(n):n},writable:!0,enumerable:!1},clone:{value:function(e){var t=Array.isArray(this)?[]:{};for(var n in this){if(n==="clone")continue;this[n]&&typeof this[n]=="object"?t[n]=this[n].clone():t[n]=this[n]}return e?e(t):t},writable:!0,enumerable:!1},copy:{value:function(t){var n=new e(this.slice());return t?t(n):n},writable:!0,enumerable:!1},toArray:{value:function(e){var t=Array.prototype.slice.call(this);return e?e(t):t},writable:!0,enumerable:!1},concat:{value:function(){var t=Array.prototype.slice.call(arguments),n=t[t.length-1];return typeof n=="function"?typeof t[0]!="number"?n(new e(this.toArray().concat(t[0]))):n(new e(this.toArray().concat(t.slice(0,t.length-1)))):typeof t[0]!="number"?new e(this.toArray().concat(t[0])):new e(this.toArray().concat(t))},writable:!0,enumerable:!1},slice:{value:function(t,n,r){var i=Array.prototype.slice.call(arguments);return i.length===3?r(new e(this.toArray().slice(t,n))):i.length===2?typeof i[1]=="function"?r(new e(this.toArray().slice(t))):new e(this.toArray().slice(t,n)):i.length===1?new e(this.toArray().slice(t)):new e(this.toArray().slice())},writable:!0,enumerable:!1},filter:{value:function(t,n){var r=new e(this.toArray().filter(t));return n?n(r):r},writable:!0,enumerable:!1},every:{value:function(e,t){var n=this.toArray().every(e);return t?t(n):n},writable:!0,enumerable:!1},map:{value:function(t,n){var r=new e(this.toArray().map(t));return n?n(r):r},writable:!0,enumerable:!1},some:{value:function(e,t){var n=this.toArray().some(e);return t?t(n):n},writable:!0,enumerable:!1},reduce:{value:function(e,t,n){var r=Array.prototype.slice.call(arguments);return r.length===3?n(this.toArray().reduce(e,t)):r.length===2?typeof r[1]=="function"?n(this.toArray().reduce(e)):this.toArray().reduce(e,t):this.toArray().reduce(e)},writable:!0,enumerable:!1},reduceRight:{value:function(e,t,n){var r=Array.prototype.slice.call(arguments);return r.length===3?n(this.toArray().reduceRight(e,t)):r.length===2?typeof r[1]=="function"?n(this.toArray().reduceRight(e)):this.toArray().reduceRight(e,t):this.toArray().reduceRight(e)},writable:!0,enumerable:!1},extend:{value:function(e,t){for(var n in e)Object.defineProperty(this,n,{value:function(){return e[n].apply(this,arguments)},writable:!0,enumerable:!1});return t?t(this):this},writable:!0,enumerable:!1}}),n};Array.prototype.toCollection=function(){return new e(this)},typeof window!="undefined"?(window.gauss=typeof window.gauss=="undefined"?{}:window.gauss,window.gauss.Collection=e):exports=module.exports=e})();(function(){var e=typeof window=="undefined"?require("./collection"):window.gauss.Collection;e=e();var t=function(n){"use strict";var r=Array.isArray(n)?n:Array.prototype.slice.call(arguments);Array.prototype.slice.call(arguments).length===0&&(r=[]);var i={sum:0,product:1,variance:0,values:Array.prototype.slice.call(r)};i.sync=function(){i.values=Array.prototype.slice.call(r)};var s=function(e,t){return e-t},o=function(e,t){return t-e};return Object.defineProperties(r,{indexOf:{value:function(t,n){return e.indexOf.apply(this,arguments)},writable:!0,enumerable:!1},sum:{value:function(e){var t=0;if(this.equal(i.values)&&i.sum!==0)t=i.sum;else{for(var n=0;n<this.length;)t+=this[n++];i.sum=t,i.sync()}return e?e(t):t},writable:!0,enumerable:!1},product:{value:function(e){var t=1;if(this.equal(i.values)&&i.product!==1)t=i.product;else for(var n=0;n<this.length;)t*=this[n++],i.product=t,i.sync();return e?e(t):t},writable:!0,enumerable:!1},mean:{value:function(e){var t=this.sum()/this.length;return e?e(t):t},writable:!0,enumerable:!1},gmean:{value:function(e){var t=Math.pow(Math.abs(this.product()),1/this.length);return e?e(t):t},writable:!0,enumerable:!1},hmean:{value:function(e){function t(e){for(var t=0,n=0;t<e.length;)n+=1/Math.abs(e[t++]);return n}var n=this.length/t(this);return e?e(n):n},writable:!0,enumerable:!1},qmean:{value:function(e){var t=Math.sqrt(this.pow(2).sum()/this.length);return e?e(t):t},writable:!0,enumerable:!1},median:{value:function(e){var t=this.copy();t.sort(s);var n=this.length%2===0?(t[this.length/2-1]+t[this.length/2])/2:t[parseInt(this.length/2)];return e?e(n):n},writable:!0,enumerable:!1},mode:{value:function(t){return e.mode.apply(this,arguments)},writable:!0,enumerable:!1},range:{value:function(e){var t=this.max()-this.min();return e?e(t):t},writable:!0,enumerable:!1},variance:{value:function(e){var t=0,n=0;if(this.equal(i.values)&&i.variance!==0)n=i.variance;else{for(var r=0;r<this.length;r++){var s=t;t+=(this[r]-s)/(r+1),n+=(this[r]-s)*(this[r]-t)}n/=this.length,i.variance=n,i.sync()}return e?e(n):n},writable:!0,enumerable:!1},stdev:{value:function(e,t){var n=0;return e?this.density(e).stdev():(n=Math.sqrt(this.variance()),t?t(n):n)},writable:!0,enumerable:!1},frequency:{value:function(t,n){return e.frequency.apply(this,arguments)},writable:!0,enumerable:!1},percentile:{value:function(e,t){var n=this.copy();n.sort(s);var r=n[0];return e>0&&(r=n[Math.floor(this.length*e)]),t?t(r):r},writable:!0,enumerable:!1},density:{value:function(e,n){var r,i=this.copy();i.sort(s);if(e==1)return i;var o=Math.round(this.length*(.5-e/2)-1),u=Math.round(this.length*(.5+e/2)-1);return r=new t(i.slice(o,u)),n?n(r):r},writable:!0,enumerable:!1},distribution:{value:function(t,n){return e.distribution.apply(this,arguments)},writable:!0,enumerable:!1},quantile:{value:function(e,n){var r=this.copy();r.sort(s);var i=1/e,o=new t;if(e>this.length)throw new RangeError("Subset quantity is greater than the Vector length");for(var u=i;u<1;u+=i){var a=Math.round(r.length*u)-1;a<r.length-1&&o.push(r[a])}return n?n(o):o},writable:!0,enumerable:!1},delta:{value:function(e){var n=new t;for(var r=1;r<this.length;r++)n.push(this[r]-this[r-1]);return e?e(n):n},writable:!0,enumerable:!1},sma:{value:function(e,n){var r;if(e===1)r=this;else{var i=(new t(this.slice(0,e))).sum();r=new t([i/e]);for(var s=1;s<this.length-e+1;s++)i+=this[s+e-1]-this[s-1],r.push(i/e)}return n?n(r):r},writable:!0,enumerable:!1},ema:{value:function(e,n){if(typeof e=="number"){var r=e;e={period:r,ratio:function(e){return 2/(e+1)}}}var i=(new t(this.slice(0,e.period))).sum(),s=new t([i/e.period]),o=e.ratio(e.period);for(var u=1;u<this.length-e.period+1;u++)s.push(o*(this[u+e.period-1]-s[u-1])+s[u-1]);return n?n(s):s},writable:!0,enumerable:!1},max:{value:function(e){var t=Math.max.apply({},this);return e?e(t):t},writable:!0,enumerable:!1},min:{value:function(e){var t=Math.min.apply({},this);return e?e(t):t},writable:!0,enumerable:!1},abs:{value:function(e){var t=this.map(function(e){return Math.abs(e)});return e?e(t):t},writable:!0,enumerable:!1},acos:{value:function(e){var t=this.map(function(e){return Math.acos(e)});return e?e(t):t},writable:!0,enumerable:!1},asin:{value:function(e){var t=this.map(function(e){return Math.asin(e)});return e?e(t):t},writable:!0,enumerable:!1},atan:{value:function(e){var t=this.map(function(e){return Math.atan(e)});return e?e(t):t},writable:!0,enumerable:!1},ceil:{value:function(e){var t=this.map(function(e){return Math.ceil(e)});return e?e(t):t},writable:!0,enumerable:!1},cos:{value:function(e){var t=this.map(function(e){return Math.cos(e)});return e?e(t):t},writable:!0,enumerable:!1},exp:{value:function(e){var t=this.map(function(e){return Math.exp(e)});return e?e(t):t},writable:!0,enumerable:!1},floor:{value:function(e){var t=this.map(function(e){return Math.floor(e)});return e?e(t):t},writable:!0,enumerable:!1},log:{value:function(e){var t=this.map(function(e){return Math.log(e)});return e?e(t):t},writable:!0,enumerable:!1},pow:{value:function(e,t){var n=this.map(function(t){return Math.pow(t,e)});return t?t(n):n},writable:!0,enumerable:!1},round:{value:function(e){var t=this.map(function(e){return Math.round(e)});return e?e(t):t},writable:!0,enumerable:!1},sin:{value:function(e){var t=this.map(function(e){return Math.sin(e)});return e?e(t):t},writable:!0,enumerable:!1},sqrt:{value:function(e){var t=this.map(function(e){return Math.sqrt(e)});return e?e(t):t},writable:!0,enumerable:!1},tan:{value:function(e){var t=this.map(function(e){return Math.tan(e)});return e?e(t):t},writable:!0,enumerable:!1},equal:{value:function(t,n){return e.equal.apply(this,arguments)},writable:!0,enumerable:!1},clone:{value:function(t){return e.clone.apply(this,arguments)},writable:!0,enumerable:!1},copy:{value:function(e){var n=new t(this.slice());return e?e(n):n},writable:!0,enumerable:!1},toArray:{value:function(t){return e.toArray.apply(this,arguments)},writable:!0,enumerable:!1},push:{value:function(){var e=this.length===0?0:i.sum/this.length,t=this.length===0?0:i.variance*this.length,n=Array.prototype.slice.call(arguments),r=n[n.length-1],s=this.length;if(typeof r=="function"){for(var o=0;o<n.length-1;o++){Array.prototype.push.call(this,n[o]),Array.prototype.push.call(i.values,n[o]);var u=e;e+=(n[o]-u)/this.length,t+=(n[o]-u)*(n[o]-e),i.sum+=n[o],i.product*=n[o],s++}return t/=this.length,i.variance=t,r(s)}for(var o=0;o<n.length;o++){Array.prototype.push.call(this,n[o]),Array.prototype.push.call(i.values,n[o]);var u=e;e+=(n[o]-u)/this.length,t+=(n[o]-u)*(n[o]-e),i.sum+=n[o],i.product*=n[o],s++}return t/=this.length,i.variance=t,s},writable:!0,enumerable:!1},concat:{value:function(){var e=Array.prototype.slice.call(arguments),n=e[e.length-1];return typeof n=="function"?typeof e[0]!="number"?n(new t(this.toArray().concat(e[0]))):n(new t(this.toArray().concat(e.slice(0,e.length-1)))):typeof e[0]!="number"?new t(this.toArray().concat(e[0])):new t(this.toArray().concat(e))},writable:!0,enumerable:!1},slice:{value:function(e,n,r){var i=Array.prototype.slice.call(arguments);return i.length===3?r(new t(this.toArray().slice(e,n))):i.length===2?typeof i[1]=="function"?r(new t(this.toArray().slice(e))):new t(this.toArray().slice(e,n)):i.length===1?new t(this.toArray().slice(e)):new t(this.toArray().slice())},writable:!0,enumerable:!1},filter:{value:function(e,n){var r=new t(this.toArray().filter(e));return n?n(r):r},writable:!0,enumerable:!1},map:{value:function(e,n){var r=new t(this.toArray().map(e));return n?n(r):r},writable:!0,enumerable:!1},some:{value:function(t,n){return e.some.apply(this,arguments)},writable:!0,enumerable:!1},reduce:{value:function(t,n,r){return e.reduce.apply(this,arguments)},writable:!0,enumerable:!1},reduceRight:{value:function(t,n,r){return e.reduceRight.apply(this,arguments)},writable:!0,enumerable:!1},extend:{value:function(t,n){return e.extend.apply(this,arguments)},writable:!0,enumerable:!1}}),r.extend({every:e.every,append:e.append}),i.sum=r.sum(),i.product=r.product(),i.variance=r.variance(),r};Array.prototype.toVector=function(){return new t(this)},typeof window!="undefined"?(window.gauss=typeof window.gauss=="undefined"?{}:window.gauss,window.gauss.Vector=t):exports=module.exports=t})();(function(){var e=typeof window=="undefined"?require("./collection"):window.gauss.Collection;e=e();var t=typeof window=="undefined"?require("./vector"):window.gauss.Vector,n=function(n){"use strict";var r=arguments.length===2?Array.prototype.slice.call(arguments):n;return Array.prototype.slice.call(arguments).length===0&&(r=[]),Object.defineProperties(r,{byValue:{value:function(e,t){return e[1]<t[1]?-1:e[1]>t[1]?1:0},writable:!0,enumerable:!1},byDate:{value:function(e,t){return e[0]<t[0]?-1:e[0]>t[0]?1:0},writable:!0,enumerable:!1},times:{value:function(e){var n=new t(Array.prototype.map.call(this,function(e){return e[0]}));return e?e(n):n},writable:!0,enumerable:!1},values:{value:function(e){var n=new t(Array.prototype.map.call(this,function(e){return e[1]}));return e?e(n):n},writable:!0,enumerable:!1},extend:{value:function(t,n){return e.extend.apply(this,arguments)},writable:!0,enumerable:!1}}),r.extend({every:e.every,append:e.append}),r};typeof window!="undefined"?(window.gauss=typeof window.gauss=="undefined"?{}:window.gauss,window.gauss.TimeSeries=n):exports=module.exports=n})();